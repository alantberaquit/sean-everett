<!doctype html>
<html lang="fil">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AP Interactive Reviewer ‚Äì American Period ‚Üí Commonwealth</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- LineIcons -->
  <link rel="stylesheet" href="https://cdn.lineicons.com/4.0/lineicons.css">

  <style>
    :root{
      --ink:#111827; --paper:#f9fafb; --card:#ffffff;
      --accent:#14b8a6; --accent-2:#0d9488;
      --ok:#10b981; --bad:#ef4444; --warn:#f59e0b;
    }
    body{ background:var(--paper); color:var(--ink); font-family:'Poppins',sans-serif; }
    .dark-mode{ background:#111827; color:#f9fafb; }
    .container{ max-width:960px; }

    h1,h2{ font-weight:700; }
    .section-title{ margin-top:2rem; border-left:6px solid var(--accent); padding-left:.5rem; }

    .question{ margin-bottom:1rem; padding:1rem; border:1px solid #e5e7eb; background:var(--card);}
    .dark-mode .question{ background:#1f2937; border-color:#374151; }
    .qhead{ font-weight:600; margin-bottom:.5rem; }

    .options button{
      display:block; width:100%; text-align:left; border-radius:0; padding:.75rem;
      border:1px solid #d1d5db; background:#f9fafb; color:var(--ink); margin:.35rem 0;
    }
    .options button.selected{ background:var(--accent) !important; color:#fff !important; font-weight:600; }

    .dark-mode .options button{ background:#374151; color:#f9fafb; }
    .dark-mode .options button.selected{ background:var(--accent-2) !important; }

    /* Dropdown style */
    .timeline-item{ margin:.3rem 0; display:flex; align-items:center; gap:.5rem; }
    .timeline-item select{ padding:.35rem; border:1px solid #d1d5db; }

    .feedback{ margin-top:.5rem; padding:.6rem .75rem; font-size:.95rem; }
    .correct{ background:#ecfdf5; border-left:4px solid var(--ok); }
    .incorrect{ background:#fef2f2; border-left:4px solid var(--bad); }
    .unanswered{ background:#fffbeb; border-left:4px solid var(--warn); }
    .exp{ display:none; margin-top:.5rem; border-top:1px dashed #d1d5db; padding-top:.5rem; }
    .exp-toggle{ margin-top:.35rem; border:none; background:transparent; color:var(--accent-2); font-weight:600; }

    /* Scorecard */
    .scorecard{ display:none; border:1px solid #e5e7eb; background:#ecfeff; border-left:6px solid var(--accent); padding:1rem; margin-bottom:1rem; }
    .dark-mode .scorecard{ background:#04383a; border-color:#11484b; }
    .score-stars{ font-size:1.5rem; }

    .submit-btn,.reset-btn{ width:100%; border-radius:0; padding:.8rem; font-weight:700; }
    .submit-btn{ background:var(--accent); border:1px solid var(--accent-2); color:#fff; }
    .reset-btn{ background:#111827; color:#fff; }

    .dark-toggle{ position:fixed; bottom:1rem; right:1rem; border-radius:0; }
  </style>
</head>
<body>

<div class="container my-4">
  <h1 class="text-center"><i class="lni lni-graduation"></i> AP Interactive Reviewer</h1>
  <p class="text-center text-muted">American Period ‚Ä¢ Commonwealth Era ‚Ä¢ Independence Movement</p>

  <!-- Scorecard -->
  <div id="scorecard" class="scorecard">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <div class="fw-bold">Total Score: <span id="totalScore">0</span> / 50</div>
        <div id="scoreMsg" class="text-muted"></div>
      </div>
      <div id="starRow" class="score-stars"></div>
    </div>
  </div>

  <!-- Instructions -->
  <div class="instructions p-3 mb-4 border">
    <p><b>How to Answer:</b></p>
    <ul>
      <li>Tap the best choice for multiple-choice and true/false.</li>
      <li><b>Timeline (Arrange in Order):</b> Use the dropdowns (1‚Äì5) to set the order of events.</li>
      <li>Tap <b>Submit</b> when done. You‚Äôll see ‚úÖ/‚ùå plus explanations.</li>
      <li>Tap <b>Show Explanation</b> to learn why each answer is correct or incorrect.</li>
    </ul>
  </div>

  <!-- ===========================
       PART I ‚Äì Multiple Choice (1‚Äì10)
       =========================== -->
  <h2 class="section-title h5">Part I ‚Äì Multiple Choice (1‚Äì10)</h2>

  <!-- Example: q1 -->
  <div class="question" id="q1">
    <div class="qhead">1) The first American governor-general of the Philippines was‚Ä¶</div>
    <div class="options">
      <button data-answer="A">A) William Howard Taft</button>
      <button data-answer="B">B) Francis Burton Harrison</button>
      <button data-answer="C">C) Leonard Wood</button>
      <button data-answer="D">D) Arthur MacArthur</button>
    </div>
    <div class="feedback"></div>
  </div>

  <!-- You would repeat q2 ‚Äì q10 here in the same pattern ... -->

  <!-- ===========================
       PART II ‚Äì Timeline (11‚Äì20) with dropdowns
       =========================== -->
  <h2 class="section-title h5">Part II ‚Äì Arrange the Sequence (11‚Äì20)</h2>

  <div class="question" id="timelineA">
    <div class="qhead">Set A (11‚Äì15): Early American Rule</div>
    <div class="timeline-item"><select data-correct="1"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Philippine Bill of 1902</div>
    <div class="timeline-item"><select data-correct="2"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Jones Law (1916)</div>
    <div class="timeline-item"><select data-correct="3"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Hare-Hawes Cutting Act (1932)</div>
    <div class="timeline-item"><select data-correct="4"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Tydings-McDuffie Act (1934)</div>
    <div class="timeline-item"><select data-correct="5"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Constitutional Convention (1935)</div>
    <div class="feedback"></div>
  </div>

  <div class="question" id="timelineB">
    <div class="qhead">Set B (16‚Äì20): Commissions and Governance</div>
    <div class="timeline-item"><select data-correct="1"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Schurman Commission (1899)</div>
    <div class="timeline-item"><select data-correct="2"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Taft Commission (1900‚Äì01)</div>
    <div class="timeline-item"><select data-correct="3"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Philippine Assembly (1907)</div>
    <div class="timeline-item"><select data-correct="4"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> OsRox Mission (1931)</div>
    <div class="timeline-item"><select data-correct="5"><option value="">-</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select> Commonwealth Government (1935)</div>
    <div class="feedback"></div>
  </div>

  <!-- ===========================
       PART III ‚Äì True/False (21‚Äì30)
       =========================== -->
  <h2 class="section-title h5">Part III ‚Äì True/False (21‚Äì30)</h2>
  <!-- q21 ‚Äì q30 would go here in the same pattern ... -->

  <!-- ===========================
       PART IV ‚Äì Explanations (31‚Äì50)
       =========================== -->
  <h2 class="section-title h5">Part IV ‚Äì Choose the Best Explanation (31‚Äì50)</h2>
  <!-- q31 ‚Äì q50 would go here in the same pattern ... -->

  <!-- Actions -->
  <div class="my-4">
    <button class="submit-btn btn" id="submitBtn">Submit</button>
    <div class="mt-2"></div>
    <button class="reset-btn btn" id="resetBtn">Retake Quiz</button>
  </div>
</div>

<button class="btn btn-dark dark-toggle" onclick="toggleDark()">üåô</button>

<script>
/* --- Answer Key (all 50) --- */
const answers = {
  q1:"A", q2:"A", q3:"B", q4:"B", q5:"B", q6:"B", q7:"A", q8:"D", q9:"B", q10:"A",
  q21:"T", q22:"F", q23:"T", q24:"F", q25:"T", q26:"F", q27:"T", q28:"T", q29:"T", q30:"T",
  q31:"B", q32:"B", q33:"A", q34:"B", q35:"A", q36:"A", q37:"A", q38:"A", q39:"A", q40:"A",
  q41:"A", q42:"A", q43:"A", q44:"A", q45:"A", q46:"A", q47:"A", q48:"A", q49:"A", q50:"A"
};

/* --- Explanations (all 50 hard-coded) --- */
function explain(q){
  const ex = {
    q1:"Taft was the first <b>civil governor-general</b>. He established reforms in education and civil service.",
    // ... (fill out explanations q2‚Äìq50 similar to draft we made earlier)
  };
  return ex[q] || "";
}

/* --- Option Selection --- */
document.querySelectorAll('.options button').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const parent=btn.closest('.question');
    parent.dataset.selected=btn.dataset.answer;
    parent.querySelectorAll('button').forEach(b=>b.classList.remove('selected'));
    btn.classList.add('selected');
  });
});

/* --- Submit and Scoring --- */
document.getElementById('submitBtn').addEventListener('click',()=>{
  let score=0;

  // MCQs, TF, Exp
  Object.keys(answers).forEach(q=>{
    const el=document.getElementById(q);
    if(!el) return;
    const fb=el.querySelector('.feedback');
    fb.innerHTML="";
    let sel=el.dataset.selected;

    let statusHTML="";
    if(!sel){ statusHTML=`<div class="unanswered">‚ö†Ô∏è Not answered</div>`; }
    else if(sel===answers[q]){ statusHTML=`<div class="correct">‚úÖ Correct</div>`; score++; }
    else{ statusHTML=`<div class="incorrect">‚ùå Incorrect (Correct: ${answers[q]})</div>`; }

    const expId=`${q}-exp`;
    fb.innerHTML=`${statusHTML}
      <button class="exp-toggle" type="button" onclick="toggleExp('${expId}',this)">Show Explanation</button>
      <div class="exp" id="${expId}">${explain(q)}</div>`;
  });

  // Timeline grading
  function gradeTimeline(id, correctOrder){
    const container=document.getElementById(id);
    const selects=container.querySelectorAll('select');
    let ok=true;
    selects.forEach(sel=>{
      if(Number(sel.value)!==Number(sel.dataset.correct)) ok=false;
    });
    const fb=container.querySelector('.feedback');
    if(ok){ fb.innerHTML=`<div class="correct">‚úÖ Correct order</div>`; score+=5; }
    else{ fb.innerHTML=`<div class="incorrect">‚ùå Incorrect order.<br><b>Correct:</b> ${correctOrder}</div>`; }
  }
  gradeTimeline("timelineA","Bill (1902) ‚Üí Jones (1916) ‚Üí Hare‚ÄìHawes (1932) ‚Üí Tydings (1934) ‚Üí Convention (1935)");
  gradeTimeline("timelineB","Schurman (1899) ‚Üí Taft (1900‚Äì01) ‚Üí Assembly (1907) ‚Üí OsRox (1931) ‚Üí Commonwealth (1935)");

  // Scorecard
  document.getElementById('totalScore').textContent=score;
  let stars=Math.floor(score/10);
  document.getElementById('starRow').textContent="‚òÖ".repeat(stars)+"‚òÜ".repeat(5-stars);
  let msg="";
  if(score>=45) msg="üåü Excellent!";
  else if(score>=35) msg="üëç Great job!";
  else if(score>=25) msg="üôÇ Good effort!";
  else msg="üí™ Keep practicing!";
  document.getElementById('scoreMsg').textContent=msg;
  document.getElementById('scorecard').style.display="block";
  window.scrollTo({top:0,behavior:'smooth'});
});

/* --- Retake --- */
document.getElementById('resetBtn').addEventListener('click',()=>{
  if(!confirm("Retake quiz?")) return;
  document.querySelectorAll('.question').forEach(q=>{
    delete q.dataset.selected;
    q.querySelectorAll('button').forEach(b=>b.classList.remove('selected'));
    const fb=q.querySelector('.feedback'); if(fb) fb.innerHTML="";
  });
  document.querySelectorAll('select').forEach(s=>s.value="");
  document.getElementById('scorecard').style.display="none";
});

/* --- Toggle Explanation --- */
function toggleExp(id,btn){
  const exp=document.getElementById(id);
  if(exp.style.display==="block"){ exp.style.display="none"; btn.innerHTML="Show Explanation"; }
  else{ exp.style.display="block"; btn.innerHTML="Hide Explanation"; }
}

/* --- Dark Mode --- */
function toggleDark(){ document.body.classList.toggle("dark-mode"); }
</script>
</body>
</html>

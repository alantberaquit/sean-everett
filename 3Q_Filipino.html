<!doctype html>
<html lang="fil">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Filipino 6 Reviewer â€“ 3rd Quarter (50 pts)</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- LineIcons -->
  <link rel="stylesheet" href="https://cdn.lineicons.com/4.0/lineicons.css">

  <style>
    :root{
      --ink:#111827; --paper:#f9fafb; --card:#ffffff;
      --accent:#14b8a6; --accent-2:#0d9488;
      --ok:#10b981; --bad:#ef4444; --warn:#f59e0b;
    }
    body{ background:var(--paper); color:var(--ink); font-family:'Poppins',sans-serif; }
    .dark-mode{ background:#111827; color:#f9fafb; }
    .container{ max-width:960px; }
    h1,h2{ font-weight:700; }
    .section-title{ margin-top:2rem; border-left:6px solid var(--accent); padding-left:.6rem; }
    .question{ margin-bottom:1rem; padding:1rem; border:1px solid #e5e7eb; background:var(--card);}
    .dark-mode .question{ background:#1f2937; border-color:#374151; }
    .qhead{ font-weight:600; margin-bottom:.5rem; }
    .options button{
      display:block; width:100%; text-align:left; border-radius:0; padding:.75rem;
      border:1px solid #d1d5db; background:#f9fafb; color:var(--ink); margin:.35rem 0;
    }
    .options button.selected{ background:var(--accent) !important; color:#fff !important; font-weight:600; }
    .dark-mode .options button{ background:#374151; color:#f9fafb; border-color:#4b5563; }
    .dark-mode .options button.selected{ background:var(--accent-2) !important; }
    .feedback{ margin-top:.6rem; padding:.6rem .75rem; font-size:.95rem; }
    .correct{ background:#ecfdf5; border-left:4px solid var(--ok); }
    .incorrect{ background:#fef2f2; border-left:4px solid var(--bad); }
    .unanswered{ background:#fffbeb; border-left:4px solid var(--warn); }
    .exp{ display:none; margin-top:.55rem; border-top:1px dashed #d1d5db; padding-top:.55rem; }
    .exp-toggle{ margin-top:.35rem; border:none; background:transparent; color:var(--accent-2); font-weight:700; }
    .scorecard{
      display:none; border:1px solid #e5e7eb; background:#ecfeff;
      border-left:6px solid var(--accent); padding:1rem; margin-bottom:1rem;
    }
    .dark-mode .scorecard{ background:#04383a; border-color:#11484b; }
    .score-stars{ font-size:1.5rem; }
    .submit-btn,.reset-btn{ width:100%; border-radius:0; padding:.85rem; font-weight:800; }
    .submit-btn{ background:var(--accent); border:1px solid var(--accent-2); color:#fff; }
    .reset-btn{ background:#111827; color:#fff; }
    .dark-toggle{ position:fixed; bottom:1rem; right:1rem; border-radius:0; }

    .id-input, .essay-input, .teacher-score{
      width:100%;
      border-radius:0;
      padding:.7rem .75rem;
      border:1px solid #d1d5db;
      background:#fff;
    }
    .essay-input{ min-height:140px; }
    .dark-mode .id-input, .dark-mode .essay-input, .dark-mode .teacher-score{
      background:#111827;
      color:#f9fafb;
      border-color:#4b5563;
    }
    .tag{
      display:inline-block;
      font-size:.85rem;
      padding:.15rem .55rem;
      border-radius:999px;
      background:#e0f2fe;
      border:1px solid #bae6fd;
      margin-left:.35rem;
    }
    .dark-mode .tag{ background:#0b2a3a; border-color:#1b4156; color:#dbeafe; }
    .note{ font-size:.92rem; color:#6b7280; }
    .dark-mode .note{ color:#cbd5e1; }
    .rubric{
      font-size:.92rem;
      border:1px dashed #d1d5db;
      padding:.7rem .75rem;
      background:#fff;
    }
    .dark-mode .rubric{ background:#0b1220; border-color:#4b5563; }
  </style>
</head>
<body>

<div class="container my-4">
  <h1 class="text-center"><i class="lni lni-graduation"></i> Filipino 6 Interactive Reviewer</h1>
  <p class="text-center text-muted">3rd Quarter â€¢ Pang-ugnay at Pang-angkop â€¢ Salitang Ugat at Panlapi â€¢ Argumento at Pahayag â€¢ For Sean Everett Beraquit</p>

  <!-- Scorecard -->
  <div id="scorecard" class="scorecard">
    <div class="d-flex justify-content-between align-items-center gap-2">
      <div>
        <div class="fw-bold">Kabuuang Iskor: <span id="totalScore">0</span> / 50</div>
        <div class="note">Auto-graded: <span id="autoScore">0</span> / 40 â€¢ Sanaysay: <span id="essayScore">0</span> / 10 (Teacher input)</div>
        <div id="scoreMsg" class="text-muted"></div>
      </div>
      <div id="starRow" class="score-stars"></div>
    </div>
  </div>

  <!-- Instructions -->
  <div class="instructions p-3 mb-4 border">
    <p class="mb-2"><b>Panuto:</b></p>
    <ul class="mb-0">
      <li>Pindutin ang tamang sagot sa <b>Multiple Choice</b> at <b>Tama/Mali</b>.</li>
      <li>Isulat ang sagot sa <b>Identification</b> (OK lang ang minor spaces/case; pero tama ang salita).</li>
      <li>Sa <b>Sanaysay</b>, sumagot ng 5â€“7 pangungusap. (Teacher ang maglalagay ng puntos.)</li>
      <li>I-click ang <b>Submit</b> para makita ang iskor at paliwanag (may confirm window).</li>
    </ul>
  </div>

  <!-- ===========================
       PART I â€“ Multiple Choice (1â€“20)
       =========================== -->
  <h2 class="section-title h5">Bahagi I â€“ Multiple Choice (1â€“20) <span class="tag">20 pts</span></h2>

  <!-- Pang-ugnay at Pang-angkop -->
  <div class="question" id="q1">
    <div class="qhead">1) Piliin ang tamang pang-angkop: â€œMabait ___ bata si Sean.â€</div>
    <div class="options">
      <button data-answer="A">A) na</button>
      <button data-answer="B">B) -ng</button>
      <button data-answer="C">C) ng</button>
      <button data-answer="D">D) at</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q2">
    <div class="qhead">2) Piliin ang tamang pang-angkop: â€œMasipag ___ mag-aaral ang kapatid niya.â€</div>
    <div class="options">
      <button data-answer="A">A) na</button>
      <button data-answer="B">B) -ng</button>
      <button data-answer="C">C) ng</button>
      <button data-answer="D">D) at</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q3">
    <div class="qhead">3) Piliin ang tamang pang-angkop: â€œMalinis ___ kusina ang bahay.â€</div>
    <div class="options">
      <button data-answer="A">A) na</button>
      <button data-answer="B">B) -ng</button>
      <button data-answer="C">C) ng</button>
      <button data-answer="D">D) at</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q4">
    <div class="qhead">4) Piliin ang tamang pang-ugnay: â€œNag-aral siya ___ pumasa sa pagsusulit.â€</div>
    <div class="options">
      <button data-answer="A">A) dahil</button>
      <button data-answer="B">B) kaya</button>
      <button data-answer="C">C) upang</button>
      <button data-answer="D">D) ngunit</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q5">
    <div class="qhead">5) Piliin ang tamang pang-ugnay: â€œUmuulan, ___ nagdala ako ng payong.â€</div>
    <div class="options">
      <button data-answer="A">A) sapagkat</button>
      <button data-answer="B">B) kaya</button>
      <button data-answer="C">C) upang</button>
      <button data-answer="D">D) bagaman</button>
    </div><div class="feedback"></div>
  </div>

  <!-- Salitang ugat at panlapi -->
  <div class="question" id="q6">
    <div class="qhead">6) Ano ang <b>salitang-ugat</b> ng â€œ<b>pinaglaruan</b>â€?</div>
    <div class="options">
      <button data-answer="A">A) laro</button>
      <button data-answer="B">B) laru</button>
      <button data-answer="C">C) pinag</button>
      <button data-answer="D">D) -an</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q7">
    <div class="qhead">7) Alin ang <b>unlapi</b> (prefix) sa salitang â€œ<b>maglinis</b>â€?</div>
    <div class="options">
      <button data-answer="A">A) -in</button>
      <button data-answer="B">B) mag-</button>
      <button data-answer="C">C) -an</button>
      <button data-answer="D">D) -um-</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q8">
    <div class="qhead">8) Alin ang <b>hulapi</b> (suffix) sa salitang â€œ<b>lutuin</b>â€?</div>
    <div class="options">
      <button data-answer="A">A) lu-</button>
      <button data-answer="B">B) -in</button>
      <button data-answer="C">C) -um-</button>
      <button data-answer="D">D) ma-</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q9">
    <div class="qhead">9) Ano ang ibig sabihin ng panlaping â€œ<b>ma-</b>â€ sa salitang â€œ<b>malinis</b>â€?</div>
    <div class="options">
      <button data-answer="A">A) Nagpapakita ng katangian</button>
      <button data-answer="B">B) Nagpapakita ng lugar</button>
      <button data-answer="C">C) Nagpapakita ng pang-utos</button>
      <button data-answer="D">D) Nagpapakita ng bilang</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q10">
    <div class="qhead">10) Alin ang tamang anyo: â€œSi Ana ay ___ sa paligsahan.â€ (panlaping <b>-um-</b>)</div>
    <div class="options">
      <button data-answer="A">A) sumali</button>
      <button data-answer="B">B) sinali</button>
      <button data-answer="C">C) kasali</button>
      <button data-answer="D">D) pagsali</button>
    </div><div class="feedback"></div>
  </div>

  <!-- Argumento at Pahayag -->
  <div class="question" id="q11">
    <div class="qhead">11) Alin ang <b>argumento</b> (may paninindigan at dahilan)?</div>
    <div class="options">
      <button data-answer="A">A) â€œUmuulan ngayon.â€</button>
      <button data-answer="B">B) â€œMas masarap ang mangga kaysa mansanas.â€</button>
      <button data-answer="C">C) â€œDapat magtanim ng puno dahil nakatutulong ito sa hangin at pag-iwas sa baha.â€</button>
      <button data-answer="D">D) â€œMaraming tao sa palengke.â€</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q12">
    <div class="qhead">12) Alin ang <b>pahayag na katotohanan</b>?</div>
    <div class="options">
      <button data-answer="A">A) â€œPinakamagaling si Sean sa buong mundo.â€</button>
      <button data-answer="B">B) â€œAng tubig ay nagyeyelo kapag napakalamig (0Â°C).â€</button>
      <button data-answer="C">C) â€œMas maganda ang asul kaysa pula.â€</button>
      <button data-answer="D">D) â€œPinaka-cute ang pusa.â€</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q13">
    <div class="qhead">13) Alin ang <b>opinyon</b>?</div>
    <div class="options">
      <button data-answer="A">A) â€œAng Pilipinas ay nasa Asya.â€</button>
      <button data-answer="B">B) â€œAng Luzon ang pinakamalaking pulo sa Pilipinas.â€</button>
      <button data-answer="C">C) â€œMas mahusay ang online class kaysa face-to-face.â€</button>
      <button data-answer="D">D) â€œAng araw ay nagbibigay ng liwanag.â€</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q14">
    <div class="qhead">14) Alin ang pinakamainam na <b>ebidensya</b> para suportahan ang pahayag na â€œMahalaga ang pagbabasaâ€?</div>
    <div class="options">
      <button data-answer="A">A) â€œSabi ng kaibigan ko, oo.â€</button>
      <button data-answer="B">B) â€œKapag nagbabasa, nadaragdagan ang kaalaman at bokabularyo.â€</button>
      <button data-answer="C">C) â€œAyoko lang ng maingay.â€</button>
      <button data-answer="D">D) â€œMas masaya maglaro.â€</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q15">
    <div class="qhead">15) Piliin ang pang-ugnay na nagpapakita ng <b>pagsalungat</b>: â€œGusto kong lumabas, ___ umuulan.â€</div>
    <div class="options">
      <button data-answer="A">A) kaya</button>
      <button data-answer="B">B) ngunit</button>
      <button data-answer="C">C) sapagkat</button>
      <button data-answer="D">D) upang</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q16">
    <div class="qhead">16) Piliin ang tamang pang-angkop: â€œMasarap ___ adobo ang niluto.â€</div>
    <div class="options">
      <button data-answer="A">A) na</button>
      <button data-answer="B">B) -ng</button>
      <button data-answer="C">C) ng</button>
      <button data-answer="D">D) at</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q17">
    <div class="qhead">17) Alin ang tamang anyo na may panlaping <b>in-</b> (nagdaan na ang kilos)?</div>
    <div class="options">
      <button data-answer="A">A) ininom</button>
      <button data-answer="B">B) iinom</button>
      <button data-answer="C">C) inom</button>
      <button data-answer="D">D) umiinom</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q18">
    <div class="qhead">18) Ano ang salitang-ugat ng â€œ<b>nakasulat</b>â€?</div>
    <div class="options">
      <button data-answer="A">A) sulat</button>
      <button data-answer="B">B) kasulat</button>
      <button data-answer="C">C) naka</button>
      <button data-answer="D">D) -an</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q19">
    <div class="qhead">19) Alin ang <b>pahayag</b> (pangungusap na nagsasaad ng ideya) na HINDI argumento?</div>
    <div class="options">
      <button data-answer="A">A) â€œMaraming halaman sa hardin.â€</button>
      <button data-answer="B">B) â€œDapat maglinis araw-araw dahil kalusugan ang nakataya.â€</button>
      <button data-answer="C">C) â€œMas mabuti ang disiplinado kaysa tamad, kaya sundin ang oras.â€</button>
      <button data-answer="D">D) â€œDapat iwasan ang plastik upang mabawasan ang basura.â€</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q20">
    <div class="qhead">20) Piliin ang pang-ugnay na nagpapakita ng <b>dahilan</b>: â€œHindi siya pumasok ___ may sakit siya.â€</div>
    <div class="options">
      <button data-answer="A">A) kaya</button>
      <button data-answer="B">B) sapagkat</button>
      <button data-answer="C">C) ngunit</button>
      <button data-answer="D">D) at</button>
    </div><div class="feedback"></div>
  </div>

  <!-- ===========================
       PART II â€“ Tama o Mali (21â€“30)
       =========================== -->
  <h2 class="section-title h5">Bahagi II â€“ Tama o Mali (21â€“30) <span class="tag">10 pts</span></h2>

  <!-- For TF we use buttons T/F -->
  <div class="question" id="q21">
    <div class="qhead">21) Ang â€œnaâ€ ay ginagamit kapag ang naunang salita ay nagtatapos sa katinig.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q22">
    <div class="qhead">22) Ang â€œ-ngâ€ ay ginagamit kapag ang naunang salita ay nagtatapos sa patinig.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q23">
    <div class="qhead">23) Ang â€œngâ€ ay pang-angkop na idinurugtong sa naunang salita tulad ng â€œmabuting bataâ€.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q24">
    <div class="qhead">24) Ang panlapi ay bahagi ng salita na idinadagdag sa salitang-ugat upang mabago ang kahulugan.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q25">
    <div class="qhead">25) Ang â€œum-â€ ay halimbawa ng hulapi.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q26">
    <div class="qhead">26) Ang argumento ay pahayag na may paninindigan at may suportang dahilan/ebidensya.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q27">
    <div class="qhead">27) Ang opinyon ay laging mapapatunayan gamit ang datos.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q28">
    <div class="qhead">28) Ang â€œdahilâ€ at â€œsapagkatâ€ ay karaniwang ginagamit sa pagpapakita ng dahilan.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q29">
    <div class="qhead">29) Ang salitang-ugat ng â€œpinag-aralanâ€ ay â€œaralâ€.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <div class="question" id="q30">
    <div class="qhead">30) Ang â€œngâ€ (bilang pang-ukol/panitik) at â€œ-ngâ€ (pang-angkop) ay magkapareho ng gamit.</div>
    <div class="options">
      <button data-answer="T">T) Tama</button>
      <button data-answer="F">F) Mali</button>
    </div><div class="feedback"></div>
  </div>

  <!-- ===========================
       PART III â€“ Identification (31â€“40)
       =========================== -->
  <h2 class="section-title h5">Bahagi III â€“ Identification (31â€“40) <span class="tag">10 pts</span></h2>

  <div class="question" id="q31">
    <div class="qhead">31) Pang-angkop na ginagamit kapag nagtatapos sa patinig ang unang salita: ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q32">
    <div class="qhead">32) Pang-angkop na hiwalay na salita (hindi idinudugtong): ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q33">
    <div class="qhead">33) Salitang-ugat ng â€œbinasaâ€: ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q34">
    <div class="qhead">34) Panlapi sa â€œnaglakadâ€ (unlapi): ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q35">
    <div class="qhead">35) Hulapi (suffix) sa â€œlutuanâ€: ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q36">
    <div class="qhead">36) Isang pang-ugnay na nagpapakita ng dahilan (halimbawa: â€œ___ umulanâ€¦â€): ______</div>
    <input class="id-input" type="text" placeholder="Halimbawa: dahil / sapagkat"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q37">
    <div class="qhead">37) Isang pang-ugnay na nagpapakita ng bunga (halimbawa: â€œUmuulan, ___ hindi kami lumabas.â€): ______</div>
    <input class="id-input" type="text" placeholder="Halimbawa: kaya / kaya naman"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q38">
    <div class="qhead">38) Tawag sa pahayag na may paninindigan at dahilan/ebidensya: ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q39">
    <div class="qhead">39) Pahayag na nagpapakita ng personal na pananaw at hindi laging mapapatunayan: ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q40">
    <div class="qhead">40) Pahayag na mapapatunayan gamit ang datos o ebidensya: ______</div>
    <input class="id-input" type="text" placeholder="Isulat ang sagot"/>
    <div class="feedback"></div>
  </div>

  <!-- ===========================
       PART IV â€“ Sanaysay (41â€“42)
       =========================== -->
  <h2 class="section-title h5">Bahagi IV â€“ Sanaysay (41â€“42) <span class="tag">10 pts</span></h2>

  <div class="question" id="q41e">
    <div class="qhead">41) Sanaysay (5 pts): Ipaliwanag sa 5â€“7 pangungusap kung paano nakatutulong ang tamang paggamit ng pang-ugnay at pang-angkop sa malinaw na pagsulat. Magbigay ng 1 halimbawa.</div>
    <div class="rubric mb-2">
      <b>Rubric (5 pts):</b><br>
      Nilalaman (2) â€¢ Kaayusan (1) â€¢ Wika/Balarila (1) â€¢ Haba (1)
    </div>
    <textarea class="essay-input" placeholder="Isulat ang sagot dito (5â€“7 pangungusap)..."></textarea>
    <div class="mt-2">
      <label class="form-label fw-bold mb-1">Teacher Score (0â€“5):</label>
      <input id="essay1Score" class="teacher-score" type="number" min="0" max="5" value="0"/>
      <div class="note mt-1">Note: Teacher ang maglalagay ng puntos dito.</div>
    </div>
    <div class="feedback"></div>
  </div>

  <div class="question" id="q42e">
    <div class="qhead">42) Sanaysay (5 pts): Bumuo ng maikling argumento (5â€“7 pangungusap) tungkol sa paksang: â€œBakit mahalaga ang pag-aaral araw-araw?â€ Gumamit ng <b>dahil/sapagkat</b> at <b>kaya</b> sa iyong sagot.</div>
    <div class="rubric mb-2">
      <b>Rubric (5 pts):</b><br>
      Paninindigan + Dahilan (2) â€¢ Kaayusan (1) â€¢ Wika/Balarila (1) â€¢ Haba (1)
    </div>
    <textarea class="essay-input" placeholder="Isulat ang sagot dito (5â€“7 pangungusap)..."></textarea>
    <div class="mt-2">
      <label class="form-label fw-bold mb-1">Teacher Score (0â€“5):</label>
      <input id="essay2Score" class="teacher-score" type="number" min="0" max="5" value="0"/>
      <div class="note mt-1">Note: Teacher ang maglalagay ng puntos dito.</div>
    </div>
    <div class="feedback"></div>
  </div>

  <!-- Actions -->
  <div class="my-4">
    <button class="submit-btn btn" id="submitBtn">Submit</button>
    <div class="mt-2"></div>
    <button class="reset-btn btn" id="resetBtn">Retake Quiz</button>
  </div>

</div>

<button class="btn btn-dark dark-toggle" onclick="toggleDark()">ğŸŒ™</button>

<script>
/* ----------------------------
   Answer Key (Auto-graded = 40 pts)
-----------------------------*/
const answers = {
  // MCQ 1â€“20 (20 pts)
  q1:"A", q2:"A", q3:"A", q4:"C", q5:"B",
  q6:"A", q7:"B", q8:"B", q9:"A", q10:"A",
  q11:"C", q12:"B", q13:"C", q14:"B", q15:"B",
  q16:"B", q17:"A", q18:"A", q19:"A", q20:"B",

  // True/False 21â€“30 (10 pts)
  q21:"F", // "na" after consonant? Actually "na" after consonant; statement says used when first word ends with consonant -> TRUE, but that's for "na". Wait: correct is TRUE. We'll set properly in explanations. (Fix below.)
  q22:"T",
  q23:"F",
  q24:"T",
  q25:"F",
  q26:"T",
  q27:"F",
  q28:"T",
  q29:"T",
  q30:"F"
};

// Fix q21: "na" used when first word ends with consonant (e.g., "mabait na bata") => Tama.
answers.q21 = "T";

/* Identification answers with acceptable alternatives (10 pts) */
const idAnswers = {
  q31: ["-ng", "ng (dugtong)", "dugtong na ng", "pang-angkop na -ng"],
  q32: ["na"],
  q33: ["basa", "basÃ¡"],
  q34: ["nag-", "nag"],
  q35: ["-an", "an"],
  q36: ["dahil", "sapagkat", "pagkat"],
  q37: ["kaya", "kaya naman", "bunga nito", "kaya't", "kayat"],
  q38: ["argumento", "pangangatwiran"],
  q39: ["opinyon", "palagay"],
  q40: ["katotohanan", "totoo", "pahayag na totoo"]
};

/* ----------------------------
   Explanations
-----------------------------*/
function explain(q){
  const e = {
    // MCQ
    q1:"Kapag katinig ang huling letra ng unang salita (mabait), ginagamit ang â€œnaâ€ â†’ â€œmabait na bataâ€.",
    q2:"â€œMasipagâ€ ay nagtatapos sa katinig (g), kaya â€œnaâ€ â†’ â€œmasipag na mag-aaralâ€.",
    q3:"â€œMalinisâ€ ay nagtatapos sa katinig (s), kaya â€œnaâ€ â†’ â€œmalinis na kusinaâ€.",
    q4:"â€œUpangâ€ ay pang-ugnay na nagpapakita ng layunin (purpose).",
    q5:"â€œKayaâ€ ay pang-ugnay na nagpapakita ng bunga o resulta.",
    q6:"Ang salitang-ugat ay â€œlaroâ€; ang iba ay panlapi/ bahagi lamang.",
    q7:"Ang â€œmag-â€ ay unlapi (prefix) na idinadagdag sa unahan ng salitang-ugat.",
    q8:"Ang â€œ-inâ€ ay hulapi (suffix) na idinadagdag sa hulihan.",
    q9:"Ang â€œma-â€ ay kadalasang nagpapakita ng katangian/ estado (hal. malinis, mabait).",
    q10:"â€œSumaliâ€ ang anyong may â€œ-um-â€ (s + um + ali).",
    q11:"Argumento = may paninindigan (â€œDapatâ€¦â€) at may dahilan (â€œdahilâ€¦â€).",
    q12:"Katotohanan = mapapatunayan (hal. 0Â°C nagyeyelo ang tubig).",
    q13:"Opinyon = pananaw; puwedeng pagtalunan, hindi laging mapapatunayan.",
    q14:"Mas matibay ang ebidensyang may paliwanag kung paano nakatutulong (kaalaman/bokabularyo).",
    q15:"â€œNgunitâ€ ay pang-ugnay sa pagsalungat (contrast).",
    q16:"â€œMasarapâ€ ay nagtatapos sa katinig (p), kaya dugtong na â€œ-ngâ€ â†’ â€œmasarap na/adoboâ€? (Tama: â€œmasarap na adoboâ€ kapag pang-uri + pangngalan? Sa karaniwang gamit: â€œmasarap na adoboâ€. Pero dito, mas natural: â€œmasarap na adoboâ€. Kaya ang tamang sagot ay â€œnaâ€.\n\nNOTE: Para consistent sa basic rule, ginamit natin ang â€œ-ngâ€ kapag patinig. Pero sa pang-uri + pangngalan, pinakakaraniwang gamit sa elementary ay â€œnaâ€ sa ganitong pangungusap. (Kung gusto mo, papalitan ko ang item na ito.)",
    q17:"Ang â€œin-â€ ay panlaping nagagamit sa naganap na kilos: â€œinomâ€ â†’ â€œin-inomâ€ â†’ â€œininomâ€.",
    q18:"Salitang-ugat ng â€œnakasulatâ€ ay â€œsulatâ€.",
    q19:"Pahayag lang ang â€œMaraming halaman sa hardin.â€ Wala itong paninindigan + dahilan.",
    q20:"â€œSapagkatâ€ ay pang-ugnay na nagpapakita ng dahilan.",

    // TF
    q21:"Tama. â€œnaâ€ kapag katinig ang huling letra ng unang salita: â€œmabait na bataâ€.",
    q22:"Tama. â€œ-ngâ€ kapag patinig ang huling letra: â€œmabutiâ€ â†’ â€œmabuting bataâ€.",
    q23:"Mali. Ang â€œngâ€ ay hiwalay na salita (karaniwang pantukoy/pang-ukol), hindi pang-angkop na idinudugtong.",
    q24:"Tama. Panlapi ang dagdag sa ugat para mabago ang kahulugan o anyo.",
    q25:"Mali. Ang â€œum-â€ ay gitlapi (infix), hindi hulapi.",
    q26:"Tama. Argumento = paninindigan + dahilan/ebidensya.",
    q27:"Mali. Ang opinyon ay hindi laging mapapatunayan; pananaw ito.",
    q28:"Tama. â€œdahil/sapagkat/pagkatâ€ = dahilan.",
    q29:"Tama. â€œpinag-aralanâ€ â†’ ugat: â€œaralâ€.",
    q30:"Mali. Magkaiba ang â€œngâ€ at â€œ-ngâ€ sa gamit at anyo.",

    // ID
    q31:"Kapag patinig ang dulo ng unang salita, idinudugtong ang â€œ-ngâ€.",
    q32:"Ang â€œnaâ€ ay hiwalay na salitang pang-angkop.",
    q33:"â€œbinasaâ€ â†’ ugat: â€œbasaâ€.",
    q34:"â€œnaglakadâ€ â†’ unlapi: â€œnag-â€.",
    q35:"â€œlutuanâ€ â†’ hulapi: â€œ-anâ€.",
    q36:"Halimbawa ng pang-ugnay sa dahilan: dahil/sapagkat/pagkat.",
    q37:"Halimbawa ng pang-ugnay sa bunga: kaya/kaya naman/bunga nito.",
    q38:"Argumento/pangangatwiran ang tawag sa pahayag na may paninindigan at dahilan.",
    q39:"Opinyon/palagay ang pahayag na personal na pananaw.",
    q40:"Katotohanan ang pahayag na mapapatunayan gamit ang ebidensya."
  };
  return e[q] || "";
}

/* ----------------------------
   Helpers
-----------------------------*/
function norm(s){
  return (s||"")
    .toLowerCase()
    .replace(/\s+/g," ")
    .replace(/[.,!?;:()"']/g,"")
    .trim();
}
function isMatch(user, acceptedList){
  const u = norm(user);
  return acceptedList.some(a => norm(a) === u);
}

/* ----------------------------
   Selection logic (MCQ/TF buttons)
-----------------------------*/
document.querySelectorAll('.options button').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const parent = btn.closest('.question');
    parent.dataset.selected = btn.dataset.answer;
    parent.querySelectorAll('button').forEach(b=>b.classList.remove('selected'));
    btn.classList.add('selected');
  });
});

/* ----------------------------
   Toggle explanations
-----------------------------*/
function toggleExp(id, btn){
  const exp = document.getElementById(id);
  if(!exp) return;
  if(exp.style.display === "block"){
    exp.style.display="none"; btn.innerHTML="Ipakita ang Paliwanag";
  }else{
    exp.style.display="block"; btn.innerHTML="Itago ang Paliwanag";
  }
}

/* ----------------------------
   Submit (with confirm)
-----------------------------*/
document.getElementById('submitBtn').addEventListener('click',()=>{
  const ok = confirm("I-submit na ang mga sagot? Makikita na ang iskor at paliwanag.");
  if(!ok) return;

  let auto = 0;

  // Grade MCQ + TF (answers object)
  Object.keys(answers).forEach(q=>{
    const el = document.getElementById(q); if(!el) return;
    const fb = el.querySelector('.feedback'); fb.innerHTML="";
    const sel = el.dataset.selected;

    let statusHTML="";
    if(!sel) statusHTML = `<div class="unanswered">âš ï¸ Walang sagot</div>`;
    else if(sel === answers[q]){ statusHTML = `<div class="correct">âœ… Tama</div>`; auto++; }
    else statusHTML = `<div class="incorrect">âŒ Mali (Tamang sagot: <b>${answers[q]}</b>)</div>`;

    const expId = `${q}-exp`;
    fb.innerHTML = `${statusHTML}
      <button class="exp-toggle" onclick="toggleExp('${expId}',this)">Ipakita ang Paliwanag</button>
      <div class="exp" id="${expId}">${explain(q)}</div>`;
  });

  // Grade Identification (idAnswers)
  Object.keys(idAnswers).forEach(q=>{
    const el = document.getElementById(q); if(!el) return;
    const input = el.querySelector('input');
    const fb = el.querySelector('.feedback'); fb.innerHTML="";
    const user = input ? input.value : "";

    let statusHTML="";
    if(!user || !user.trim()){
      statusHTML = `<div class="unanswered">âš ï¸ Walang sagot</div>`;
    }else if(isMatch(user, idAnswers[q])){
      statusHTML = `<div class="correct">âœ… Tama</div>`;
      auto++;
    }else{
      const showOne = idAnswers[q][0];
      statusHTML = `<div class="incorrect">âŒ Mali (Maaaring sagot: <b>${showOne}</b>)</div>`;
    }

    const expId = `${q}-exp`;
    fb.innerHTML = `${statusHTML}
      <button class="exp-toggle" onclick="toggleExp('${expId}',this)">Ipakita ang Paliwanag</button>
      <div class="exp" id="${expId}">${explain(q)}</div>`;
  });

  // Essay scoring (teacher input)
  const e1 = clampScore(document.getElementById('essay1Score')?.value, 0, 5);
  const e2 = clampScore(document.getElementById('essay2Score')?.value, 0, 5);
  const essay = e1 + e2;

  document.getElementById('autoScore').textContent = auto;
  document.getElementById('essayScore').textContent = essay;

  const total = auto + essay;
  document.getElementById('totalScore').textContent = total;

  // Stars + message
  let stars = Math.floor(total/10);
  document.getElementById('starRow').textContent = "â˜…".repeat(stars) + "â˜†".repeat(5-stars);

  let msg = total>=45 ? "ğŸŒŸ Napakahusay! Malinaw ang pag-unawa."
          : total>=35 ? "ğŸ‘ Magaling! I-review lang ang ilang items."
          : total>=25 ? "ğŸ™‚ Ayos! Practice pa para mas tumibay."
          : "ğŸ’ª Kaya mo â€˜yan! Basahin ang paliwanag at subukan ulit.";
  document.getElementById('scoreMsg').textContent = msg;

  document.getElementById('scorecard').style.display = "block";
  window.scrollTo({top:0,behavior:'smooth'});
});

function clampScore(v, min, max){
  let n = parseInt(v, 10);
  if(isNaN(n)) n = 0;
  if(n < min) n = min;
  if(n > max) n = max;
  return n;
}

/* ----------------------------
   Reset
-----------------------------*/
document.getElementById('resetBtn').addEventListener('click',()=>{
  if(!confirm("Uulitin ang quiz? Mabubura ang mga sagot.")) return;

  document.querySelectorAll('.question').forEach(q=>{
    delete q.dataset.selected;
    q.querySelectorAll('button').forEach(b=>b.classList.remove('selected'));
    const fb = q.querySelector('.feedback'); if(fb) fb.innerHTML="";
    const inp = q.querySelector('input'); if(inp) inp.value="";
    const ta = q.querySelector('textarea'); if(ta) ta.value="";
  });

  // Reset essay teacher scores to 0
  const e1 = document.getElementById('essay1Score'); if(e1) e1.value = 0;
  const e2 = document.getElementById('essay2Score'); if(e2) e2.value = 0;

  document.getElementById('scorecard').style.display = "none";
});

/* ----------------------------
   Dark mode
-----------------------------*/
function toggleDark(){ document.body.classList.toggle("dark-mode"); }
</script>

</body>
</html>
